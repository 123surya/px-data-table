sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
before_install:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$password"
  -in deploy.enc -out deploy_key -d; fi
after_success:
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- ./ghp.sh
env:
  global:
    secure: ZGE2nhbN61Q+1HL1ntVOjE8BLuTuYPVWMn7Zycohvm0IjYhLtr+qE8rOKam6gB0VU99xvPXThuqyYkdveCxFXMAdCKNd/UOAnbfXQCjKPRtlVlAx+wridKZYD8FtRhSTVHvDTwqKlWZA0sqFCIgDSgY2E4o/Ks0rMRLW8Omm/0XFtCF+KXeSnLMEk1vAc+s1qqruTJJVsSwI0gKi4OljxT/xpBtiUhzTXSRmPcr0X41fJvAEvqOrmxy4Gc6rukGw7+sSSTIwIs5xYRw4MabtRP9Ni2dho6IHO05kzIg5x+6ZSZZCCFuZYkIhkse+Wa1r2L/tz9oYvbmZJrIZgB8LoHeySd/Mb4SRMah8hq8RPVGhNm8PKrxi8d+oAOVp+mB1u6+VE9nB7U+Cua/l8ryvkMmqUHpq7YeCwbKUQI6XHmCBToDQNFSxDRbVGwfYNV7S5Ri2QA+yBCAnQ7i3+Sohtdn3k+CqbwRqymZ4DzdLvnIz1HDbKTK9H2S0VeMlhlBHmgIsGKYZz5bGhRdvka4xV6ppON5+epCcbHLkt3Fa4unla/yRjOyR/p/Euiv3WPtW2VkOtcZgUFhBgRDksSy2BYHnSAt1vzImYEWonZyq5K8lIHbN1s2wuHAaZdCOfF3p5TABcThXwLcNrjTTcLdHRPzM1nDe97Uyhxym24DC3+E=
