sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
before_install:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$password"
  -in deploy1.enc -out deploy_key1 -d; openssl aes-256-cbc -k "$password" -in deploy2.enc
  -out deploy_key2 -d; fi
after_success:
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- ./ghp.sh
env:
  global:
  - secure: cbTmkeq61RHetF0kVaNr8c6b4c600NbFYj6qAOmMI880PBNbv8ZC/KLa7fPkZhGdnBUS/7bSu2cTfp6bQP4Nx6Zw7FsU1dpZolczzNBGZ6Vo4G/yU/6IGA+jEziz9W+4jCkcYY7cnblTvq2+4OPZFQjkRVwvDlvOPtYIEqA5Dqyr03whf7kOAnP2v5G1YehiUf9gihgJgss89j1sN9ZNZZAkUG1CBVTy5jad+jYw98HoEniZMCVUEKh4QJJ5K2pCqdHytue3IFp8dnImDJZc94CXwpWuJu8Ahncpp0YNrcW3TLuW9qyjfENwU+KN2Ilx0+Ku14I1/4gosCFFfi65lQrZG3N9VnZWZnrIHKHBEj0Y8Jaj1qtbZweFPyMb7O8TJoJKu/2LhS1ttp3YoFxyNsotjNnYVNIGzDzG9mq0Zcsy3ZBrP2W2a3mnfZ0ZtHtJm+s7FFfE5k+YrE47QJ2M7lGZjm7xk8fiPd+BVLedpMp6yKTU/5P776SNBwGoiLnyjBQfJ02w87zaCJ051OeM03FNmHPEbb9zLRK8XVrWtqDfT6TqzWdTsoLKDSubfC/5nX/qImdtVxUPXC+/bKuwploL41oZ2V1k4k7bxmxGsTt5/nHUWMhJquM0xRcBzbClXLcbkxhYeGif+xTKRKmx3BusvyRGL6UzW0UDz8p7hJk=
  - secure: ZamGiRDHU80KF5NlqDKwP1DXaXDOfeBowHPodrJN9FjiS/Kc48wBn+UdZ1gUdmPVg+5ktug+9CMN5v4U4aHkQNTEhcEfaQb/EnliFiyC+PdDEGE0O+BwkUjXtPLuP0ozMXDhq2n8XPhbQ1+EA9wMEw1LxU1p3kqwQIPm1vu5hfo2SVhz4q6pQfc0hLTAU/BuuwB9xIka+1TnKXq8Av4+718ha5GOZ/7rUoBrwbJNmEZG7Psd++nyCT9YyB4obmeqRhNdUywVCa4GfKbeBw7zWcApZccZ3Dsju1bAl1woKRkKENmnuJkXrJ7DYBRwoFKSfNZFEdw4oLZkkfsLW0dMo5VlvgTQ7n9ztum4u+s0zIn92/34mQGfaMerRNZVIEGMvQW2gRkdtGvXmqz6e54UfDTdqlyXaH9XNzZlahgV4+Ks+cNLWn3oyX4giPri4mL4Exd8CP7eLofFoxcIuIJMwTom4FuKX+1ASGM5ZwmB20kssweu/9sQoa/D8gs3iKVdsULbijBLAbuHmFzdS4tTdTI+J7RlA7BVRXanHVE7GtNfatn20shluxMYpD/KCqPsdfacwvUCI48BVj6A3Wfd7Sr3VkCG9qyKRp9DY246V2lJIw9yjObok34MBtd+OhnB1vJk/3T01n4Ev0JVo4yBzh3XqdJJZdAmTBskNLKwprU=
  - secure: U0pxNEf3fR1A8OUFcZCin2D1YEWujof4ZdvUhwTs2dH3ieiWeOsUTgoRdLwoF5k5xKc7fhioM7GYgluJqoGc8K2PYgyKZVhYWgaimdl/13LvdIP0t73lHdlKwXu57YELN2nL05t0s/sDTsywBhCPAKsmUiqiZCbsG/bnz6TRI+RoIk8gCzO1TnG2vPQFavjwkiJeEko3PLb0YiGxhBgDOC2B1dyhonc/TzFAp5k+eNyy/wyrvhSq+whmUdgOVYhoJMJPhkh7spSiENbsJR37tfBKEMRTYMfdkfYuuqPZXqmQg4ME2p64xKcZgM4DrNl2dcs+AUse28fZJiaD8zjHev6hCPgWneEHoysmphqTc2exg0+3eZGZtFAMMa8TsgpbVsC463wDh754vx7uDvjCecztJHRgMJLa6gvei/Oon1+iB2Hks1nKgF7+dCsJaGDOa1rnPc0P07HZq8j2FRxrveI9LUxEhJKKxIb4p20IDC1aWY7jbXy1vyZ8GimUgruye7npGwlqZco2V2eR8Lcogi/UCvFq4U+aZyNasyYIoBh4CqHNbIHZ7HarmnkYJ/TLSEChgCZXWi5ch4EoW+rQIA5W3bhslVfS+lVZr9QSXwktFapw075FsGhgJ8DoLordg0a6RNY7Uo8k5dFMbkCbPqym3VlmWxKf1ewoKWxEOV4=
