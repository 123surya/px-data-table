sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$password"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: uam/9FYx86KzzfiOsMeq+zS+gDWgZFmFTf9DBusA1BSWY1sAtOc28OQVO2W514XjA8erONRutZ7ea4FFKOcFK6Ifbv7Yap6tyKeLeIpP9pYJIBXdsix8IpDs4b7O/3Kw/cm5O/+4w5R1BZZLr4lgFr99Ah+RjzBJKj3z6YDuQl9QK53nQEtu9paBKuIR8y12nUNCb8xlCMwMMwI6VYW6ApjVgejqhyH13JFLW7c6YpTuGBukH4GYWF1crn9WFrAkBNm0qlbhPTKEPPVgn+0J0fJX9zvgg2nhWWaolnNhGc5T9WbKw1rHmSCdbEyV+zEiGnrHUj/+84MnZ3y47ZSCYZFtwQbuKI8i/A6zdyDMYQe0ITwuOCLIEtrkKmpvX0FVjUm+OCPK3RiZ22H6140qSpCHZHsd+vkdrbVmr1KoB1uXCQ4KvEXq4eeFZ2MaLbbacX5UjKtNoQrJkpCtFHQLJWGZaj+G498kYEWu9T8j50oyq4pnYsGOb+m2xpJrFwq0MEXPYyZUOaLIcJ65Mobarmfud5e/+rchLmzHHs5p/Af+shYKLXCr2YZwgpbTol9xPgs04GTgFJ0lqtfI1V6w34Y6w3gzO5Zn083IRWarmvhDWNHgFVFCGJEYgEl6+x9VFCPHHEuWLYOBnq+x0QOSK9nPyN3k/7iq8iUSRIF8e6o=
  - secure: Q42u6+DMMCg0JFqrRdms2wGa1fJwI6pxtH3QscInxkAuea5DFVJYFCDiFjb//w5UeW7QId1rH/wDHlO5o3ooI2WIYFhwk7UMuRPzmhcTfzE9J8b5cmpyohx9wviwjSjOoqxxnF9510zUfWkXYeWMtVB4sj+dfHgayS/iN86T+ff/pW6HmtVXwQq039ETaYip+os96LcM5UD3HKp1ufMs2l9yI1BF0/PRowt8CuEBlCXhLNctknKTfnRVW2UrzLMKVssr1KbAn4XiWOM5O2KWqyfhBkOb9SLh1OOSXrFcWA88qYpTl8MbJt3x1lAVzhtxyt1MAJJ/AMCeuMQzy04e4oWDyK/lAqRRVe0mmWgHCy8YTQHWVSFGkukaNpaJtR3J4QZV49xr8RytcctYHfIKg5KdPvf9td8LhGf+XptlmBTRzGmJT2sdnJbaGF9zyD3lr8cu+hX8U15qq069hfbYwzO44MKRwB9uETOxN5A+eCIv7zEsH8iMLlFsg9uHinfcYgWzGFmM+0O25Q8a2KcBAJiDpig5ddfoTN54F1rKlsmkxDxPDeW1y+4Fha3Mm7YDBYSkW5V2KObLBJ0hRwzEJaNL13WzAzdhCcNIY6BBJIQsr5n8NQhF/T9EOFkHHdlf6vo4q+dFQODrG6iFUSR6IjZyZJmovXWeCTghU5ev9Wc=
