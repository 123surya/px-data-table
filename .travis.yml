sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
before_install:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then
  openssl aes-256-cbc -k "$password" -in deploy1.enc -out deploy_key1 -d;
  openssl aes-256-cbc -k "$password" -in deploy2.enc -out deploy_key2 -d; fi
after_success:
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- ./ghp.sh
env:
  global:
  - secure: ZGE2nhbN61Q+1HL1ntVOjE8BLuTuYPVWMn7Zycohvm0IjYhLtr+qE8rOKam6gB0VU99xvPXThuqyYkdveCxFXMAdCKNd/UOAnbfXQCjKPRtlVlAx+wridKZYD8FtRhSTVHvDTwqKlWZA0sqFCIgDSgY2E4o/Ks0rMRLW8Omm/0XFtCF+KXeSnLMEk1vAc+s1qqruTJJVsSwI0gKi4OljxT/xpBtiUhzTXSRmPcr0X41fJvAEvqOrmxy4Gc6rukGw7+sSSTIwIs5xYRw4MabtRP9Ni2dho6IHO05kzIg5x+6ZSZZCCFuZYkIhkse+Wa1r2L/tz9oYvbmZJrIZgB8LoHeySd/Mb4SRMah8hq8RPVGhNm8PKrxi8d+oAOVp+mB1u6+VE9nB7U+Cua/l8ryvkMmqUHpq7YeCwbKUQI6XHmCBToDQNFSxDRbVGwfYNV7S5Ri2QA+yBCAnQ7i3+Sohtdn3k+CqbwRqymZ4DzdLvnIz1HDbKTK9H2S0VeMlhlBHmgIsGKYZz5bGhRdvka4xV6ppON5+epCcbHLkt3Fa4unla/yRjOyR/p/Euiv3WPtW2VkOtcZgUFhBgRDksSy2BYHnSAt1vzImYEWonZyq5K8lIHbN1s2wuHAaZdCOfF3p5TABcThXwLcNrjTTcLdHRPzM1nDe97Uyhxym24DC3+E=
  - secure: eKieDZdcoZIW0nDV9Za2BWLXPnH5oVH7o+DWq55F0zeH4D52lgPnyMXmybCLV5CPqe+v3opLgSwbXDrT3pjwp3V2veeNySyCkDK96e4YrhjiQDlmcM6ZEcXm8l2oSBnag7QtLQGx7AiIEDx+CC70jMYD4OEcHS6Cmd4ZlDCQQkVf6bWZWn9ZWf7TjDTd/E0d/kdfE/++VYqr8v1aGPwztrGRHZqyWxebO6iRzf5vLlqXT6nDLSKE8yZmXQyqw8atVVIf2t5hkSsGPI8qn0rShv2GbV4wO3WSkoam2O3ivTF1x8wMQ/HCoTQAbrjnhg0F+cQkdjkTqqsVmTwpwyAGDdrnyE5H9UeGUaYKiGBHAmRaXJ+vSBGsUHyyClg+zwDC198GMi4EUH+oeLyFogGg7TEh07F5cqoKqdHRxAu0sCdLfbRxiNPRCYomOllVMFmus5wSURaTL8Ps5Fn7MlOjam8ZVT+jmVjHAvX+FZmaVS5rYye5MuQOmxux+o/6fwQlxVsPmOhZWhr76mhMoyyrhBA3Tk/FWLTO4EFVxdMWvmSkGUFVmfhyXaNlnj/PehkmT8euJAVamGy4ZiZIC0PSl2uxj9aGsr1RZs/NkAvj/tjqOaGuBAZolVA6A2KEMmZlftS1bzq55QlwtHuAh2lkfTsOe2zyOhqGKRjMRYT/H/k=
  - secure: RH8ACv9zfFNrGp43jU4C0ciJlMIl/SG7+SCpLbiOKKmtDaSBXjO9Z/xOfxJ+VJcK+t/RTGRwB4aXkzn4Xn6NS/j70GLVwulYbZ+wD1D/ieFyTMMd+LwrBiWmLOwj8RaaSdS0WCYDTUnUcQ2XIniztkCBZPvYUbZN0Uqfzg2cYcTaw1OQnlzlA1GOuuUgM77C+HICN0U76W8But6l15KwqL9YYJTtpVfgiZbFEi7R6RHPLggmB3ZXTYSkrmvkjT6t92wt9ytJVD8NPmFfyG9YjoNiF7g2XQGM1H+ICTLtM5RHJz9YlX3bvZe0FPQDav+aj6mR5MuVtBS7B/TP506jqvKV1YzHe8WAHG14eDQQis0T8hGH0LrswFl+Dwy76H0VnC4S4cnW2nLDsmr3P6NBVsBnvVa4RlDauFs7xtMNVthk3J42Vv+bworgD/aPPhDv/3oN3PsJkCR4+ehwZMumy1ro40xewvN3auL2NH5tvOYNa+1ttJAPoCY5lMj7q8rh6S3T9PQBQLda/CIJwnFWoxbDrfCfPmjkBrmgOGiwCG6JVQDDV5ugXIAukzvHzvPITRE3INxtYWtuSqfZi/akXYprf0Y8dK7L4VEVV2/7br0iZNZS1cEo0NrKN7aqgIKBNY0J8La6PCJKOgMfPWiuP6mDgIxG9f4lN55O+9rxINk=
