sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$password"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: SkYXqNOTdLsxGLezjrgrfEiGAY/YgJu4dRLpJaNlHS6TB7Mn+pZxZ7+1AU6TS3mm1/U+h8exOY7YlY/DWcxveKbWQiEtadb7RzP7ctNYm8Ykk7m8yAvriX5WSDMR86Ue9Ma6wyXsscg+BccZlqLfpB5RfzddrF89Fh+TFMVNoDnmNOc6XuXoHmDrbcFMTmxih/2hcw9LCcRNRLj71eTolVbOgzvf6Q4vr0LYmfM7/G0V3LS3AtaTAc1aHjA6cIX0jWBPzADk2r4ZyhQGHwfnUQMUkxBqQkoTkx35OCY0wi7sY0r1hCvfBRF24sUAj7MNRERWyO5iV1lEjrmaeDLTpb/ZjgtsyBDxDGQqMlvjy3l6Z/iw03VOiYVup77CCIUnlQfBx9r6SimR/CZWJntA2TzmC3HB7WghDN2VbbK9IvAqFqwcFaTlUzMvms1GkchYkCKyQqtoHsLDoUmIpMYQPGvs85ZtiBchHFjvAz68z0EKZ9h1TIFgWGGQnE7azv3iwb/osbtflxCUq1BPJSEwzNaVD/1WW/ATQu5JelPhOVS/1IwXJAM/RRtCA6wszR9XvpLij4GR7apXY403HPIqITgrM9w96GqBs2Y6aJDrrqBJzMeZ3o2tI5NFeLLdrwMpXWTHlTvJA1TFjI5ZqpNIf51if88YCfXkcPKSKTp0DYw=
  - secure: oPvHvORXmFbNCxIkra1rDL5/NeMFL0XxHJyLB/PPgNbgplz/NqmOEvocvGql6qQ6NV6mF5J6zWkiteFwsHPL5mL0JtdZBP7qY73oM1zv23uNBTEChIcQZtffuRvd5rW6N8o9Nhe8lRfX+NXQYQLgai4n0vL8CazNevuO0cDOAYF6O+zZKMXp7DS++o/cYLbM9MAAnvoxJx7uP405q36HvhHkUy7AGEW2DwA7LYESk8aTl8A87HNRWAH6Yiv9K+jNZ30LksLOgVnYtfFs0lQbPSILusw4JH/Mfq//b974IDn0kI/ZmdpV2dwxr+DAscO3bXuu+SzcbeDwHiXuNbEa1IsFXW/IVSuCBHLaK9IrSvbEoV3PahksO0b830XqJhBJczlCPMYEe4aIUVtGBtlEZqzm3KTn5A6WUDrSEdzwQHiav9sCZXx6nsGCu/mArpYvxzmrNR757vRPMmLlI12XL1QZUANBC4s/jCwP28Sk4HOmLK8i+mO7kMedsfbwhA/ISOQ2sCaPR5hQphMY/bdou0DjF8BPASIAPO+9rxOkEVjWFq87L4WMJwqYUXg92p1QKbBX/KZ8Q901XOALgelP199KxXvyKfrgexOsK/72HfOmhQFLK7SWcD/GcAZATEkhdFS+esvuxC2F3ObYNnTnaafmnFTDaAWQQ4CKUeC0wAU=
